<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="alternate" href="/rss.xml" title="sakura" s="" blog""="" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="sakura" s="" blog""="" type="application/atom+xml"><link rel="alternate" type="application/json" title="sakura&quot;s blog&quot;" href="https://sakurame.eu.org/feed.json"><link rel="preconnect" href="https://s4.zstatic.net"><link rel="preconnect" href="https://at.alicdn.com"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://unpkg.com"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext" media="none" onload="this.media='all'"><link rel="modulepreload" href="/js/siteInit.js"><link rel="modulepreload" href="/js/nyx-player-FL6IVJ7K.js"><link rel="modulepreload" href="/js/copy-tex-J4RXVQFU.js"><link rel="modulepreload" href="/js/post-BYOOLMPE.js"><link rel="modulepreload" href="/js/chunk-HOQ6CD2A.js"><link rel="modulepreload" href="/js/tcomments-MXX364JD.js"><link rel="modulepreload" href="/js/chunk-UAU5CDGP.js"><link rel="modulepreload" href="/js/index.esm-D6VTWJFS.js"><link rel="modulepreload" href="/js/chunk-LDEIN6IO.js"><link rel="modulepreload" href="/js/chunk-C2255TGX.js"><link rel="modulepreload" href="/js/cf-patch.js"><link rel="stylesheet" href="/css/siteInit.css" media="none" onload="this.media='all'"><script src="/js/cf-patch.js?v=0.5.4" type="module" fetchpriority="high" defer=""></script><link rel="preload" href="https://ptpimg.me/2m9g2v.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://ptpimg.me/996d4a.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://ptpimg.me/3oyvmv.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://ptpimg.me/0j50c8.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://ptpimg.me/k1yp55.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://ptpimg.me/1bpj1i.jpg" as="image" fetchpriority="high"><meta name="keywords" content="建站"><meta name="description" content="The spirit of independence and the freedom of thought "><link rel="canonical" href="https://sakurame.eu.org/2023/05/16/basic-theory/%E9%9D%A2%E5%90%91cloudflare%E7%9A%84%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA-1%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%9C%89ssl%E8%AF%81%E4%B9%A6%E7%9A%84wordpress%E5%8D%9A%E5%AE%A2/"><link rel="stylesheet" href="/css/post.css?v=0.5.4"><link rel="stylesheet" href="/css/mermaid.css?v=0.5.4"><!-- 临时处理--><link rel="stylesheet" media="none" onload="this.media='all'" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css"><title>面向cloudflare的网站搭建,1分钟快速启动一个有ssl证书的wordpress博客</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="pagefind_mount"></div><div id="container"><header id="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">面向cloudflare的网站搭建,1分钟快速启动一个有ssl证书的wordpress博客</h1><div class="meta"><span class="item" title="Created: 2023-05-16 00:42:17"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">Posted on</span><time itemprop="dateCreated datePublished" datetime="2023-05-16T00:42:17+08:00">2023-05-16</time></span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i></span><span class="text">Symbols count in article</span><span>12k</span><span class="text">words</span></span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i></span><span class="text">Reading time</span><span>11 mins.</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Sakura's Blog</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" style="background-image: url(&quot;https://ptpimg.me/2m9g2v.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://ptpimg.me/996d4a.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://ptpimg.me/3oyvmv.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://ptpimg.me/0j50c8.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://ptpimg.me/k1yp55.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://ptpimg.me/1bpj1i.jpg&quot;);"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemlistelement="" itemscope="" itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">Home</a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/categories/basic-theory/" itemprop="item" rel="index" title="In计算机基础理论"><span itemprop="name">计算机基础理论<meta itemprop="position" content="0"></span></a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" data-pagefind-body="data-pagefind-body" lang="zh-cn"><link itemprop="mainEntityOfPage" href="https://sakurame.eu.org/2023/05/16/basic-theory/%E9%9D%A2%E5%90%91cloudflare%E7%9A%84%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA-1%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%9C%89ssl%E8%AF%81%E4%B9%A6%E7%9A%84wordpress%E5%8D%9A%E5%AE%A2/"><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"><meta itemprop="name" content="AUVeggry"><meta itemprop="description" content=", The spirit of independence and the freedom of thought "></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="sakura&quot;s blog&quot;"></span><div class="body md" itemprop="articleBody"><h1 id="cloudflare-tunnel-详细介绍-面向cloudflare的网站搭建1分钟快速启动一个有ssl证书的wordpress博客"><a class="anchor" href="#cloudflare-tunnel-详细介绍-面向cloudflare的网站搭建1分钟快速启动一个有ssl证书的wordpress博客">#</a> cloudflare tunnel 详细介绍 —— 面向cloudflare的网站搭建,1分钟快速启动一个有ssl证书的wordpress博客</h1>
<p><strong>转载自<a target="_blank" rel="noopener" href="https://blog.imoeq.com/cloudflare-argo-tunnel/">https://blog.imoeq.com/cloudflare-argo-tunnel/</a></strong></p>
<h2 id="一-前言"><a class="anchor" href="#一-前言">#</a> 一、前言</h2>
<p>*<strong>cloudflare argo tunnel是什么？*</strong></p>
<p>Cloudflare Tunnel 为您提供了一种无需<strong>公共 IP</strong> 地址即可将资源连接到 Cloudflare 的安全方式。</p>
<p>使用 Tunnel，您不会将流量发送到外部 IP — 相反，您的基础设施中的一个轻量级守护进程（ <code>cloudflared</code>) 创建到 Cloudflare 边缘的仅出站连接。</p>
<p>Cloudflare Tunnel 可以将 HTTP Web 服务器、 <a target="_blank" rel="noopener" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/use_cases/ssh/">SSH 服务器 </a>、 <a target="_blank" rel="noopener" href="https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/use_cases/rdp/">远程桌面 </a>和其他协议安全地连接到 Cloudflare。</p>
<p>这样，您的源站就可以通过 Cloudflare 提供流量，而不会受到绕过 Cloudflare 的攻击。</p>
<p>Cloudflared 在您的资源和 Cloudflare 边缘之间建立出站连接（隧道）。</p>
<p>在同一个隧道内，你可以运行尽可能多的 <code>cloudflared</code>根据需要处理（连接器）。</p>
<p>这些进程将建立与 Cloudflare 边缘的连接，并将流量发送到最近的 Cloudflare 数据中心。</p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_3.png" alt="img"></p>
<p><strong>额，你说你看不懂？</strong></p>
<p>上面一堆东西，说人话就是人如其名，cloudflare tunnel就是一个<strong>内网穿透工具</strong>，类似于国内的花生壳这种</p>
<p>但是比它好用的多</p>
<h2 id="二-为什么要用cloudflare-tunnel"><a class="anchor" href="#二-为什么要用cloudflare-tunnel">#</a> 二、为什么要用cloudflare tunnel</h2>
<p>听我跟你讲，这个好处可<strong>太多太多</strong>了</p>
<ol>
<li>cloudflare tunnel是一个内网穿透工具，<strong>它不需要你的服务器暴露端口到公网</strong>，也不需要你的服务器有公网ip地址，只要你的<strong>设备能联网就能启动一个网站</strong>，最关键是完全免费不要钱！带宽看你服务器带宽，和其他内网穿透工具不一样的是，用它搭建的服务自动接入cloudflare的防御，<strong>家宽建站不是梦</strong>，而且没有任何限制。（除了TOS，自己去看</li>
<li>默认情况下，你无法决定cloudflare cdn回源方式，但是你用了tunnel穿透网站的方式，可以<strong>指定http2/QUIC/http2 mux等回源方式</strong></li>
<li>反正都是面向cf建站，argo tunnel会自动给<strong>你申请和续期ssl证书</strong>，这方面续期和申请的工作可以无视</li>
<li>迁移和维护非常方便，启动也很简单</li>
<li>不怕别人扫描你的网站，<strong>由于没有屏蔽非CF的ip访问，导致源站暴露，面临被攻击的风险</strong></li>
<li>如果你是面向cloudflare建站的，<strong>argo tunnel的性能比nginx要好</strong>，它高带宽和高并发的情况下，明显argo tunnel占用更低，不信你可以去尝试一下1Gbps以上的传输</li>
<li>做站不会占用<strong>任何公网端口</strong>，你可以同时在一台服务器上同时启动<strong>多个网站</strong>，不用再考虑端口占用了</li>
<li>启动多个实例，<strong>宕机自动切换</strong></li>
</ol>
<h2 id="三-有什么缺点"><a class="anchor" href="#三-有什么缺点">#</a> 三、有什么缺点</h2>
<p>我觉得没什么缺点，让我评价都是优点，没有不好的地方</p>
<p>硬要说的话，就是你既然用的是cloudflare的内网穿透工具，那么必须把网站接入它的CDN才可以</p>
<h2 id="四-实验环境"><a class="anchor" href="#四-实验环境">#</a> 四、实验环境</h2>
<p>您需要的东西:</p>
<ol>
<li>cloudflare账户一枚</li>
<li>托管在cloudflare一个域名</li>
<li>一个<strong>完整</strong>的大脑</li>
<li>一双没有<strong>缺陷</strong>的眼睛</li>
<li>一张<strong>会提问</strong>的嘴巴</li>
</ol>
<h2 id="五-start-a-tunnel-with-cli"><a class="anchor" href="#五-start-a-tunnel-with-cli">#</a> 五、Start a tunnel with cli</h2>
<p>看完这小节，<strong>你可以了解如何用cli使用cloudflare argo tunnel</strong></p>
<p>这不是我们的重点，我们重点是后面docker那部分</p>
<h3 id="1-下载cloudflared工具连接到你的cloudflare账户"><a class="anchor" href="#1-下载cloudflared工具连接到你的cloudflare账户">#</a> 1、下载cloudflared工具，连接到你的cloudflare账户</h3>
<p>这个<strong>不推荐放到服务器上获取储存凭证</strong>，因为服务器有被黑的风险，你可以放到本地windwos、linux都行</p>
<p><strong>根据你的架构</strong>选择<a target="_blank" rel="noopener" href="https://github.com/cloudflare/cloudflared/releases/">release</a>，这里用x86-64的架构举例</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">curl</span><span style="color:#A65E2B;--shiki-dark:#C99076"> -o</span><span style="color:#B56959;--shiki-dark:#C98A7D"> /usr/bin/cloudflared</span><span style="color:#A65E2B;--shiki-dark:#C99076"> -L</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #从github下载</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">chmod</span><span style="color:#B56959;--shiki-dark:#C98A7D"> +x</span><span style="color:#B56959;--shiki-dark:#C98A7D"> /usr/bin/cloudflared</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #给可执行权限</span></span></code></pre>
<p>如图：</p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_4.png" alt="img"></p>
<p>然后登陆连接你的cloudflare账户，需要使用cloudflare的zero trust</p>
<p>登录时<strong>随便</strong>选一个托管在cf的域名授权就行了</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">cloudflared</span><span style="color:#B56959;--shiki-dark:#C98A7D"> login</span></span></code></pre>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_7.png" alt="img"></p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_5.png" alt="img"></p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_6.png" alt="img"></p>
<p>如果说你要迁移，就把cert.pem这个配置文件<strong>下载到其他机器相同的路径就行</strong>了，用其他域名也是，<strong>不需要重复授权</strong>，只需要这一次就能创建隧道</p>
<h3 id="2-创建一个隧道"><a class="anchor" href="#2-创建一个隧道">#</a> 2. 创建一个隧道</h3>
<p>非常简单</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">cloudflared</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span><span style="color:#B56959;--shiki-dark:#C98A7D"> create</span><span style="color:#AB5959;--shiki-dark:#CB7676"> </span><span style="color:#AB5959;--shiki-dark:#CB7676">&lt;</span><span style="color:#B56959;--shiki-dark:#C98A7D">隧道名</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">字</span><span style="color:#AB5959;--shiki-dark:#CB7676">&gt;</span></span></code></pre>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_8.png" alt="img"></p>
<p>配置文件路径在<code>/root/.cloudflared/&lt;id&gt;.json</code></p>
<p>这个意思就是，你现在用你获得你账户的凭证，创建了一个隧道，你可以用<code>&lt;id&gt;.json</code> 去使用这个隧道</p>
<h3 id="3-管理"><a class="anchor" href="#3-管理">#</a> 3. 管理</h3>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">COMMANDS:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   login</span><span style="color:#B56959;--shiki-dark:#C98A7D">    Generate</span><span style="color:#B56959;--shiki-dark:#C98A7D"> a</span><span style="color:#B56959;--shiki-dark:#C98A7D"> configuration</span><span style="color:#B56959;--shiki-dark:#C98A7D"> file</span><span style="color:#B56959;--shiki-dark:#C98A7D"> with</span><span style="color:#B56959;--shiki-dark:#C98A7D"> your</span><span style="color:#B56959;--shiki-dark:#C98A7D"> login</span><span style="color:#B56959;--shiki-dark:#C98A7D"> details</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   create</span><span style="color:#B56959;--shiki-dark:#C98A7D">   Create</span><span style="color:#B56959;--shiki-dark:#C98A7D"> a</span><span style="color:#B56959;--shiki-dark:#C98A7D"> new</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span><span style="color:#B56959;--shiki-dark:#C98A7D"> with</span><span style="color:#B56959;--shiki-dark:#C98A7D"> given</span><span style="color:#B56959;--shiki-dark:#C98A7D"> name</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   route</span><span style="color:#B56959;--shiki-dark:#C98A7D">    Define</span><span style="color:#B56959;--shiki-dark:#C98A7D"> which</span><span style="color:#B56959;--shiki-dark:#C98A7D"> traffic</span><span style="color:#B56959;--shiki-dark:#C98A7D"> routed</span><span style="color:#B56959;--shiki-dark:#C98A7D"> from</span><span style="color:#B56959;--shiki-dark:#C98A7D"> Cloudflare</span><span style="color:#B56959;--shiki-dark:#C98A7D"> edge</span><span style="color:#B56959;--shiki-dark:#C98A7D"> to</span><span style="color:#B56959;--shiki-dark:#C98A7D"> this</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> requests</span><span style="color:#B56959;--shiki-dark:#C98A7D"> to</span><span style="color:#B56959;--shiki-dark:#C98A7D"> a</span><span style="color:#B56959;--shiki-dark:#C98A7D"> DNS</span><span style="color:#B56959;--shiki-dark:#C98A7D"> hostname,</span><span style="color:#B56959;--shiki-dark:#C98A7D"> to</span><span style="color:#B56959;--shiki-dark:#C98A7D"> a</span><span style="color:#B56959;--shiki-dark:#C98A7D"> Cloudflare</span><span style="color:#B56959;--shiki-dark:#C98A7D"> Load</span><span style="color:#B56959;--shiki-dark:#C98A7D"> Balancer,</span><span style="color:#B56959;--shiki-dark:#C98A7D"> or</span><span style="color:#B56959;--shiki-dark:#C98A7D"> traffic</span><span style="color:#B56959;--shiki-dark:#C98A7D"> originating</span><span style="color:#B56959;--shiki-dark:#C98A7D"> from</span><span style="color:#B56959;--shiki-dark:#C98A7D"> Cloudflare</span><span style="color:#B56959;--shiki-dark:#C98A7D"> WARP</span><span style="color:#B56959;--shiki-dark:#C98A7D"> clients</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   vnet</span><span style="color:#B56959;--shiki-dark:#C98A7D">     Configure</span><span style="color:#B56959;--shiki-dark:#C98A7D"> and</span><span style="color:#B56959;--shiki-dark:#C98A7D"> query</span><span style="color:#B56959;--shiki-dark:#C98A7D"> virtual</span><span style="color:#B56959;--shiki-dark:#C98A7D"> networks</span><span style="color:#B56959;--shiki-dark:#C98A7D"> to</span><span style="color:#B56959;--shiki-dark:#C98A7D"> manage</span><span style="color:#B56959;--shiki-dark:#C98A7D"> private</span><span style="color:#B56959;--shiki-dark:#C98A7D"> IP</span><span style="color:#B56959;--shiki-dark:#C98A7D"> routes</span><span style="color:#B56959;--shiki-dark:#C98A7D"> with</span><span style="color:#B56959;--shiki-dark:#C98A7D"> overlapping</span><span style="color:#B56959;--shiki-dark:#C98A7D"> IPs.</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   run</span><span style="color:#B56959;--shiki-dark:#C98A7D">      Proxy</span><span style="color:#B56959;--shiki-dark:#C98A7D"> a</span><span style="color:#B56959;--shiki-dark:#C98A7D"> local</span><span style="color:#B56959;--shiki-dark:#C98A7D"> web</span><span style="color:#B56959;--shiki-dark:#C98A7D"> server</span><span style="color:#B56959;--shiki-dark:#C98A7D"> by</span><span style="color:#B56959;--shiki-dark:#C98A7D"> running</span><span style="color:#B56959;--shiki-dark:#C98A7D"> the</span><span style="color:#B56959;--shiki-dark:#C98A7D"> given</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   list</span><span style="color:#B56959;--shiki-dark:#C98A7D">     List</span><span style="color:#B56959;--shiki-dark:#C98A7D"> existing</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnels</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   info</span><span style="color:#B56959;--shiki-dark:#C98A7D">     List</span><span style="color:#B56959;--shiki-dark:#C98A7D"> details</span><span style="color:#B56959;--shiki-dark:#C98A7D"> about</span><span style="color:#B56959;--shiki-dark:#C98A7D"> the</span><span style="color:#B56959;--shiki-dark:#C98A7D"> active</span><span style="color:#B56959;--shiki-dark:#C98A7D"> connectors</span><span style="color:#B56959;--shiki-dark:#C98A7D"> for</span><span style="color:#B56959;--shiki-dark:#C98A7D"> a</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   delete</span><span style="color:#B56959;--shiki-dark:#C98A7D">   Delete</span><span style="color:#B56959;--shiki-dark:#C98A7D"> existing</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span><span style="color:#B56959;--shiki-dark:#C98A7D"> by</span><span style="color:#B56959;--shiki-dark:#C98A7D"> UUID</span><span style="color:#B56959;--shiki-dark:#C98A7D"> or</span><span style="color:#B56959;--shiki-dark:#C98A7D"> name</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   cleanup</span><span style="color:#B56959;--shiki-dark:#C98A7D">  Cleanup</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span><span style="color:#B56959;--shiki-dark:#C98A7D"> connections</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   token</span><span style="color:#B56959;--shiki-dark:#C98A7D">    Fetch</span><span style="color:#B56959;--shiki-dark:#C98A7D"> the</span><span style="color:#B56959;--shiki-dark:#C98A7D"> credentials</span><span style="color:#B56959;--shiki-dark:#C98A7D"> token</span><span style="color:#B56959;--shiki-dark:#C98A7D"> for</span><span style="color:#B56959;--shiki-dark:#C98A7D"> an</span><span style="color:#B56959;--shiki-dark:#C98A7D"> existing</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span><span style="color:#2993a3;--shiki-dark:#5eaab5">(</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">by </span><span style="color:#B56959;--shiki-dark:#C98A7D">name</span><span style="color:#B56959;--shiki-dark:#C98A7D"> or</span><span style="color:#B56959;--shiki-dark:#C98A7D"> UUID</span><span style="color:#2993a3;--shiki-dark:#5eaab5">)</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> that allows to run it</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">   help,</span><span style="color:#B56959;--shiki-dark:#C98A7D"> h</span><span style="color:#B56959;--shiki-dark:#C98A7D">  Shows</span><span style="color:#B56959;--shiki-dark:#C98A7D"> a</span><span style="color:#B56959;--shiki-dark:#C98A7D"> list</span><span style="color:#B56959;--shiki-dark:#C98A7D"> of</span><span style="color:#B56959;--shiki-dark:#C98A7D"> commands</span><span style="color:#B56959;--shiki-dark:#C98A7D"> or</span><span style="color:#B56959;--shiki-dark:#C98A7D"> help</span><span style="color:#B56959;--shiki-dark:#C98A7D"> for</span><span style="color:#B56959;--shiki-dark:#C98A7D"> one</span><span style="color:#B56959;--shiki-dark:#C98A7D"> command</span></span></code></pre>
<p>额，这里不用多说吧，你运行<code>cloudflared help</code>直接看就行了</p>
<p>值得注意的就是几个**<code>login</code> <code>create</code> <code>route</code> <code>run</code> <code>list</code> <code>info</code> <code>delete</code> <code>token</code>**</p>
<p>这些光看这个单词的意思就能猜出是干什么的，不用我去详细介绍</p>
<h3 id="4-如何用cli去做内网穿透"><a class="anchor" href="#4-如何用cli去做内网穿透">#</a> 4. 如何用cli去做内网穿透</h3>
<p>上面说了哈，我们创建隧道的这个过程是可以在你内网环境下做的，不需要服务器</p>
<p>那么我们如何其他地方使用穿透功能呢？</p>
<p><strong>先获取你创建隧道的这个token</strong></p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">cloudflared</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span><span style="color:#B56959;--shiki-dark:#C98A7D"> token</span><span style="color:#AB5959;--shiki-dark:#CB7676"> </span><span style="color:#AB5959;--shiki-dark:#CB7676">&lt;</span><span style="color:#B56959;--shiki-dark:#C98A7D">隧道名</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">称</span><span style="color:#AB5959;--shiki-dark:#CB7676">&gt;</span></span></code></pre>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_9.png" alt="img"></p>
<p>你在这里获得token意味着其他人有下面这串神秘代码就能使用你的隧道，<em><strong>请谨慎保管</strong></em></p>
<p>什么，你说这样不安全？</p>
<p>我当然知道啦，下面会介绍其他连接方式，先慢慢来搞懂cli再说</p>
<p>你复制这串神秘代码后，在想要使用隧道的地方这样输入命令</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">cloudflared</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span><span style="color:#A65E2B;--shiki-dark:#C99076"> --no-autoupdate</span><span style="color:#B56959;--shiki-dark:#C98A7D"> run</span><span style="color:#A65E2B;--shiki-dark:#C99076"> --token</span><span style="color:#AB5959;--shiki-dark:#CB7676"> </span><span style="color:#AB5959;--shiki-dark:#CB7676">&lt;</span><span style="color:#B56959;--shiki-dark:#C98A7D">上面那一串神秘代</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">码</span><span style="color:#AB5959;--shiki-dark:#CB7676">&gt;</span><span style="color:#A65E2B;--shiki-dark:#C99076"> --url</span><span style="color:#B56959;--shiki-dark:#C98A7D"> http://127.0.0.1:8080</span></span></code></pre>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_11.png" alt="img">出现这个说明连接成功</p>
<p>这样我们的在此8080端口上内网服务，就会被穿透到cf哪里（<strong>支持设置proxy穿透隧道，自己help查看</strong>）</p>
<p>测试网址 https://&lt;id&gt;.cfargotunnel.com ,你浏览器访问一下就知道了</p>
<p><strong>那么如何绑定到我自己的域名呢</strong></p>
<p>也非常简单，在<strong>dashboard创建一个cname并开启小云朵</strong>就行了，这样cf就会自动把你这个域名绑定到这个隧道上面，以后你只需要访问这个域名就行了</p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_18.png" alt="img"></p>
<p>当然cli部分你权当介绍看看就行了，我们的重心不是这里，它只让你对它有个简单的了解，下面的配合docker使用才是真正的方便</p>
<h2 id="六-start-with-docker-compose"><a class="anchor" href="#六-start-with-docker-compose">#</a> 六、Start with docker-compose</h2>
<p>这里用cloudflared docker 启动一个wordpress做例子，其他也是同理，在<strong>下面</strong>给出几个常用服务的配置样例</p>
<h3 id="1-安装docker-compose"><a class="anchor" href="#1-安装docker-compose">#</a> 1、安装docker-compose</h3>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">apt/yum</span><span style="color:#B56959;--shiki-dark:#C98A7D"> install</span><span style="color:#A65E2B;--shiki-dark:#C99076"> -y</span><span style="color:#B56959;--shiki-dark:#C98A7D"> docker-compose</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span></code></pre>
<p>如果没有装过docker，包管理器会自动给你装上docker，毕竟是依赖的一部分</p>
<h3 id="2-文件夹结构"><a class="anchor" href="#2-文件夹结构">#</a> 2、文件夹结构</h3>
<p>其实没必要用文件夹，但是为了我们以后管理方便，这里还是每个容器使用一个文件夹吧</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">blog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">├──</span><span style="color:#B56959;--shiki-dark:#C98A7D"> html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">├──</span><span style="color:#B56959;--shiki-dark:#C98A7D"> mariadb_data</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">├──</span><span style="color:#B56959;--shiki-dark:#C98A7D"> cloudflared</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">│</span><span style="color:#B56959;--shiki-dark:#C98A7D">   ├──</span><span style="color:#B56959;--shiki-dark:#C98A7D"> config.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">│</span><span style="color:#B56959;--shiki-dark:#C98A7D">   └──</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tunnel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">│</span><span style="color:#B56959;--shiki-dark:#C98A7D">       └──</span><span style="color:#B56959;--shiki-dark:#C98A7D"> id.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">└──</span><span style="color:#B56959;--shiki-dark:#C98A7D"> docker-compose.yml</span></span></code></pre>
<p>解释一下</p>
<p>html以后放wordpress的文件，mariadb_data放的是数据库文件，<strong>这俩都不需要创建</strong></p>
<p>你创建的是<code>cloudflared/</code>文件夹和它的子目录<code>tunnel/</code>以及创建编辑<code>config.yaml</code>，这个是tunnel的配置文件，指定配置</p>
<h3 id="3-docker-composeyml"><a class="anchor" href="#3-docker-composeyml">#</a> 3. docker-compose.yml</h3>
<p>这个你只需要<strong>编辑数据库那部分就行了</strong>，修改成你的密码，其他保持原样，然后保存</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">version:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">3</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">services:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  argo_tunnel:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    image:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> cloudflare/cloudflared:latest</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    volumes:</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">      </span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./cloudflared:/etc/cloudflared</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    restart:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    command</span><span style="color:#B56959;--shiki-dark:#C98A7D">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">tunnel --config /etc/cloudflared/config.yaml run</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    user:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> root</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    depends_on:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> wp</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">  </span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  wp:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    image:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> wordpress:latest</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    restart:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    volumes:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./html/:/var/www/html</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    depends_on:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> mariadb_wp</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  mariadb_wp:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    image:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> mariadb:latest</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    environment:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">       MYSQL_ROOT_PASSWORD:</span><span style="color:#2F798A;--shiki-dark:#4C9A91"> 123456789</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #数据库root密码</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">       MYSQL_DATABASE:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> wordpress</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #数据库名称</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">       MYSQL_USER:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> root</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #建议用root</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">       MYSQL_PASSWORD:</span><span style="color:#2F798A;--shiki-dark:#4C9A91"> 123456789</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #数据库密码</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    volumes:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./mariadb_data:/var/lib/mysql</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    command</span><span style="color:#B56959;--shiki-dark:#C98A7D">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> mysqld</span><span style="color:#A65E2B;--shiki-dark:#C99076">  --character-set-server=utf8mb4</span><span style="color:#A65E2B;--shiki-dark:#C99076"> --collation-server=utf8mb4_unicode_ci</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    restart:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">    privileged:</span><span style="color:#1E754F;--shiki-dark:#4D9375"> true</span></span></code></pre>
<h3 id="4-配置cloudflared-configyaml"><a class="anchor" href="#4-配置cloudflared-configyaml">#</a> 4. 配置cloudflared config.yaml</h3>
<p>其实也很简单</p>
<p>首先把上面创建隧道生成的那个<code>&lt;id&gt;.json</code> 下载下来，上传到服务器文件夹里<code>./cloudflared/tunnel/</code></p>
<p>记得改名成<code>id.json</code></p>
<p>config.yaml</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">tunnel:</span><span style="color:#AB5959;--shiki-dark:#CB7676"> </span><span style="color:#AB5959;--shiki-dark:#CB7676">&lt;</span><span style="color:#B56959;--shiki-dark:#C98A7D">i</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">d</span><span style="color:#AB5959;--shiki-dark:#CB7676">&gt;</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">credentials-file:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> /etc/cloudflared/tunnel/id.json</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">protocol:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> quic</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">ingress:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">-</span><span style="color:#B56959;--shiki-dark:#C98A7D"> hostname:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> blog_tunnel.test.xyz</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  service:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> http://wp:80</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">-</span><span style="color:#B56959;--shiki-dark:#C98A7D"> service:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> http_status:404</span></span></code></pre>
<p>解释一下</p>
<p><code>tunnel</code>:&lt;id&gt;就是你隧道的那个id，粘贴上，不需要双引号比如123156465-456adwada456dwad-dawdawd</p>
<p><code>credentials-file</code>: 不需要你动</p>
<p><code>protocol</code>: 可选项<code>&lt;auto/quic/http2/h2mux&gt;</code>, auto默认quic,使用quic回源时，对性能占用往往很高，如果没有很变态的延迟要求的人，建议用http2和h2mux，h2mux你可以理解为多通道的意思，实测这俩区别不大（如果你禁用了udp也是不能用quic的注意啦）</p>
<p><code>ingress</code>: 相当于入站规则 hostname是绑定到这个隧道的cf托管域名，这个tunnel不会自动添加，<strong>你需要cli那一步去dashboard手动添加</strong> 最后一个<code>service: http_status:404</code>，这个必须得加，<strong>有个收尾规则</strong>，你可以吧404改成666或者123，那无所谓</p>
<p><strong>如果说你要用SaaS的域名接入cf</strong>，则是</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">tunnel:</span><span style="color:#AB5959;--shiki-dark:#CB7676"> </span><span style="color:#AB5959;--shiki-dark:#CB7676">&lt;</span><span style="color:#B56959;--shiki-dark:#C98A7D">i</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">d</span><span style="color:#AB5959;--shiki-dark:#CB7676">&gt;</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">credentials-file:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> /etc/cloudflared/tunnel/id.json</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">protocol:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> quic</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">ingress:</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">-</span><span style="color:#B56959;--shiki-dark:#C98A7D"> hostname:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> blog_tunnel.test.xyz</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  service:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> http://wp:80</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">-</span><span style="color:#B56959;--shiki-dark:#C98A7D"> hostname:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> blog_tunnel.test.com</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #你的SaaS接入的域名</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">  service:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> http://wp:80</span></span>
<span class="line"><span style="color:#59873A;--shiki-dark:#80A665">-</span><span style="color:#B56959;--shiki-dark:#C98A7D"> service:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> http_status:404</span></span></code></pre>
<p>这也是为什么要用配置文件启动<strong>tunnel的原因，因为用命令行指定SaaS域名太麻烦了</strong></p>
<h3 id="5-docker-compose管理"><a class="anchor" href="#5-docker-compose管理">#</a> 5. docker-compose管理</h3>
<p>启动</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">docker-compose</span><span style="color:#B56959;--shiki-dark:#C98A7D"> up</span><span style="color:#A65E2B;--shiki-dark:#C99076"> -d</span></span></code></pre>
<p>查看日志</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">docker-compose</span><span style="color:#B56959;--shiki-dark:#C98A7D"> logs</span><span style="color:#A65E2B;--shiki-dark:#C99076"> -f</span><span style="color:#A65E2B;--shiki-dark:#C99076"> --tail=30</span></span></code></pre>
<p>停止</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">docker-compose</span><span style="color:#B56959;--shiki-dark:#C98A7D"> down</span></span></code></pre>
<p>迁移</p>
<p>把这个blog/文件夹打包直接拷走到其他服务器重启启动就行了，因为自动证书，所以啥也不用管就能启动，你就说方便不方便ba</p>
<h3 id="6-启动博客"><a class="anchor" href="#6-启动博客">#</a> 6. 启动博客</h3>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_12.png" alt="img"></p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_13.png" alt="img"></p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_14.png" alt="img"></p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_15.png" alt="img"></p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_16.png" alt="img"></p>
<p>额，没了就这点，简单吧哈哈哈哈，<strong>是不是比你从零开始编译环境方便？</strong></p>
<h3 id="demo"><a class="anchor" href="#demo">#</a> DEMO</h3>
<p>环境: <strong>家宽CT，QUIC回源直连，无代理</strong></p>
<p>锐角云windows上装的VMware，上面虚拟化的debian，启动的docker容器【究级套娃】</p>
<p><a target="_blank" rel="noopener" href="https://blog.moer.eu.org"><strong>blog.moer.eu.org</strong></a></p>
<h2 id="七-其他服务示例"><a class="anchor" href="#七-其他服务示例">#</a> 七、其他服务示例</h2>
<h3 id="bitwarden"><a class="anchor" href="#bitwarden">#</a> bitwarden</h3>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-yaml"><span class="line"><span style="color:#998418;--shiki-dark:#B8A965">version</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">3</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">services</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  argo_tunnel</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    image</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> cloudflare/cloudflared:latest</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    volumes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">      </span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./cloudflared:/etc/cloudflared</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    restart</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    command</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">tunnel --config /etc/cloudflared/config.yaml run</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    user</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> root</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    depends_on</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> bw</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  bw</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    image</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> vaultwarden/server:latest</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    restart</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    environment</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      DOMAIN</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">https://bwh.test.com/</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #你cf绑定的自己域名</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      SIGNUPS_ALLOWED</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">false</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      WEBSOCKET_ENABLED</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">true</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      SMTP_HOST</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> smtp.office365.com</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #smtp设置</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      SMTP_FROM</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> admin@test.com</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #邮箱</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      SMTP_PORT</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">587</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      SMTP_SSL</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">true</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      SMTP_USERNAME</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> admin@test.com</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      SMTP_PASSWORD</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">TTTTTEST</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#A0ADA0;--shiki-dark:#758575DD"> #密码</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">      SMTP_AUTH_MECHANISM</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">Login</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    volumes</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./b/data:/data</span></span></code></pre>
<h3 id="alist"><a class="anchor" href="#alist">#</a> alist</h3>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-yaml"><span class="line"><span style="color:#998418;--shiki-dark:#B8A965">version</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">3</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">services</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  argo_tunnel</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    image</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> cloudflare/cloudflared</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    volumes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">      </span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./cloudflared:/etc/cloudflared</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    restart</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    command</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">tunnel --config /etc/cloudflared/config.yaml run</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    user</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> root</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    depends_on</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> alistv3</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE">  </span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  alistv3</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    image</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> xhofe/alist</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    volumes</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./alistv3/data:/opt/alist/data</span></span></code></pre>
<h3 id="emby"><a class="anchor" href="#emby">#</a> emby</h3>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-yaml"><span class="line"><span style="color:#998418;--shiki-dark:#B8A965">version</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">3</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">services</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  argo_tunnel</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    image</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> cloudflare/cloudflared</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    volumes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">      </span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./cloudflared:/etc/cloudflared</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    restart</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    command</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">tunnel --config /etc/cloudflared/config.yaml run</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    user</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> root</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    depends_on</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> emby</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">  emby</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    image</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> lscr.io/linuxserver/emby:latest</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    environment</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> PUID=1000</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> PGID=1000</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> TZ=Europe/London</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    volumes</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./emby_config:/config</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./rclone/hentai_data/anime:/data/hanime</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    restart</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span></code></pre>
<p>其他服务实例<strong>欢迎放到评论区</strong>，供给大家参考</p>
<h2 id="八-你知道吗"><a class="anchor" href="#八-你知道吗">#</a> 八、你知道吗？</h2>
<h3 id="1tunnel不止可以穿透http服务"><a class="anchor" href="#1tunnel不止可以穿透http服务">#</a> 1.tunnel不止可以穿透http服务</h3>
<p>它可以穿透所有TCP协议，使用方法也很简单</p>
<p>把config.yaml修改一下就行了,比如</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-bash"><span class="line"><span style="color:#59873A;--shiki-dark:#80A665">service:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> tcp://127.0.0.1:8888</span></span></code></pre>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/image_17.png" alt="img"></p>
<h3 id="2-可以在cloudflare-zero-trust面板管理你的tunnel"><a class="anchor" href="#2-可以在cloudflare-zero-trust面板管理你的tunnel">#</a> 2. 可以在cloudflare zero trust面板管理你的tunnel</h3>
<p>这个面板也可以添加隧道不只是用命令行创建</p>
<p><img loading="lazy" src="https://img.imoeq.com/i/2023/02/23/Screenshot_1.png" alt="img"></p>
<h3 id="3-用一个隧道可以同时被其他机器启动"><a class="anchor" href="#3-用一个隧道可以同时被其他机器启动">#</a> 3. 用一个隧道可以同时被其他机器启动</h3>
<p>cf会优先选择第一时间启动的机器作为主节点，当主节点down掉后会自动切换的其他节点，这个是按照启动的顺序决定的</p>
<h3 id="4-tunnel一个帐号有创建的数量限制"><a class="anchor" href="#4-tunnel一个帐号有创建的数量限制">#</a> 4. tunnel一个帐号有创建的数量限制</h3>
<p>但是我记得数量限制一个人是用不完的，不用担心,具体数量忘了</p>
<h2 id="九-常见问题"><a class="anchor" href="#九-常见问题">#</a> 九、常见问题</h2>
<p>TG群:<a target="_blank" rel="noopener" href="https://t.me/imoeq_group"> https://t.me/imoeq_group</a></p>
<p>上一个群管理员帐号被杜叔叔给封了，无法解封，所以新创建一个</p>
<p>创建个群的目的是为了，<strong>不给</strong>一些小白解决问题</p>
<p>短短一篇博文是无法解释清楚所有问题的，如果你有其他问题，请加群问群友，或者发邮件联系作者</p>
<h3 id="1我可以用家宽建站吗"><a class="anchor" href="#1我可以用家宽建站吗">#</a> 1.我可以用家宽建站吗？</h3>
<p>为什么不能呢？</p>
<p>关于家宽建站这方面，argo tunnel可以<strong>在连接时指定代理地址</strong>，所以只能你的梯子还能用，你还能访问谷歌，那么就能使用tunnel穿透</p>
<p>具体的配置我没有直接在博客里放出来，你可以去cloudflare argo tunnel docs里面去查询<strong>连接时代理配置项</strong></p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-yaml"><span class="line"><span style="color:#998418;--shiki-dark:#B8A965">--proxy-address value                        Listen address for the proxy. (default</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="color:#B56959;--shiki-dark:#C98A7D">127.0.0.1</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="color:#B56959;--shiki-dark:#C98A7D">) [$TUNNEL_PROXY_ADDRESS]</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965"> --proxy-port value                           Listen port for the proxy. (default</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> 0) [$TUNNEL_PROXY_PORT]</span></span></code></pre>
<p>就是在配置时启动时指定socks5地址和端口，比如</p>
<pre class="shiki shiki-themes vitesse-light vitesse-dark" style="background-color:#ffffff;--shiki-dark-bg:#121212;color:#393a34;--shiki-dark:#dbd7caee" tabindex="0"><code class="language-yaml"><span class="line"><span style="color:#998418;--shiki-dark:#B8A965">argo_tunnel</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    image</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> cloudflare/cloudflared:latest</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    volumes</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#393A34;--shiki-dark:#DBD7CAEE">      </span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> ./cloudflared:/etc/cloudflared</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    restart</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> always</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    command</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B5695977;--shiki-dark:#C98A7D77"> '</span><span style="color:#B56959;--shiki-dark:#C98A7D">tunnel --config /etc/cloudflared/config.yaml --proxy-address 127.0.0.1 --proxy-port 10808 run</span><span style="color:#B5695977;--shiki-dark:#C98A7D77">'</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    user</span><span style="color:#999999;--shiki-dark:#666666">:</span><span style="color:#B56959;--shiki-dark:#C98A7D"> root</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#B8A965">    depends_on</span><span style="color:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#666666">      -</span><span style="color:#B56959;--shiki-dark:#C98A7D"> bw</span></span></code></pre>
<h3 id="2-国内能用吗"><a class="anchor" href="#2-国内能用吗">#</a> 2. 国内能用吗？</h3>
<p>不要问我，去问长城防火墙</p>
<h3 id="3-我能转载吗"><a class="anchor" href="#3-我能转载吗">#</a> 3. 我能转载吗？</h3>
<p>可以，但是要表明出处，我码一篇文章要好几个小时，你直接copy走了，以后就放弃分享了</p>
<h3 id="4-速度咋样"><a class="anchor" href="#4-速度咋样">#</a> <strong>4. 速度咋样？</strong></h3>
<p>取决于你本地到CF的速度，以及用户到CF的速度</p>
<p>如果说你服务器位于非中国大陆，则完全不需要担心</p>
<p>中国大陆的话，建议外面套一层代理去让CF回源</p>
<p>然后客户访问CF这部分就仁者见仁，智者见智了</p>
<p>由于可以指定QUIC回源，比起传统CDN回源方式肯定要好不少，至少延迟方面要有优势</p>
<h3 id="5-其他问题暂时没想起来"><a class="anchor" href="#5-其他问题暂时没想起来">#</a> 5. 其他问题暂时没想起来...</h3>
<h2 id="十-碎碎念要饭"><a class="anchor" href="#十-碎碎念要饭">#</a> 十、碎碎念+要饭</h2>
<p>建站时无论啥时候都会开启CF，所以我直接选择隧道穿透的方式</p>
<p>希望看到这篇教程人，你能善良，不要去滥用这个服务</p>
<p>码一篇这样的文章很麻烦，又要考虑读者哪里容易搞错，哪里有问题</p>
<p>本来想几分钟写完，不知不觉就花了两个小时了，心累</p>
<p><img loading="lazy" src="https://blog.imoeq.com/wp-content/uploads/2022/01/74051228.jpg" alt="admin"></p>
<p>&lt;iframe style="top: 0px; left: 0px; border: medium none; visibility: hidden; --darkreader-inline-border-top: currentcolor; --darkreader-inline-border-right: currentcolor; --darkreader-inline-border-bottom: currentcolor; --darkreader-inline-border-left: currentcolor;" data-darkreader-inline-border-top="" data-darkreader-inline-border-right="" data-darkreader-inline-border-bottom="" data-darkreader-inline-border-left="" width="1" height="1"&gt;&lt;/iframe&gt;</p>
<div class="tags"><a href="/tags/%E5%BB%BA%E7%AB%99/" rel="tag"><i class="ic i-tag"></i>建站</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-eye"></i></span><span class="text">Total Views: </span><span class="waline-pageview-count" id="twikoo_visitors" data-path="/2023/05/16/basic-theory/面向cloudflare的网站搭建-1分钟快速启动一个有ssl证书的wordpress博客/">Loading...</span></span><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">Edited on </span><time title="Modified: 2024-03-13 00:01:09" itemprop="dateModified" datetime="2024-03-13T00:01:09+08:00">2024-03-13</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img loading="lazy" src="/assets/monero.avif" alt="AUVeggry monero"><p>monero</p></div><div><img loading="lazy" src="/assets/bitcoin.avif" alt="AUVeggry Bitcoin"><p>Bitcoin</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>AUVeggry<i class="ic i-at"><em>@</em></i>sakura"s blog"</li><li class="link"><strong>Post link: </strong><a href="https://sakurame.eu.org/2023/05/16/basic-theory/%E9%9D%A2%E5%90%91cloudflare%E7%9A%84%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA-1%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%9C%89ssl%E8%AF%81%E4%B9%A6%E7%9A%84wordpress%E5%8D%9A%E5%AE%A2/" title="面向cloudflare的网站搭建,1分钟快速启动一个有ssl证书的wordpress博客">https://sakurame.eu.org/2023/05/16/basic-theory/面向cloudflare的网站搭建-1分钟快速启动一个有ssl证书的wordpress博客/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2023/05/13/computer-graphic/3D-Graphics-Rendering-Cookbook/" rel="prev" itemprop="url" data-background-image="https://ptpimg.me/u5r244.jpg" title="3D-Graphics-Rendering-Cookbook"><span class="type">Previous Post</span><span class="category"><i class="ic i-flag"></i>计算机图形学</span><h3>3D-Graphics-Rendering-Cookbook</h3></a></div><div class="item right"><a href="/2023/05/17/vcbstudio/%E5%BC%80%E6%BA%90%E4%B8%80%E4%B8%8B%E5%BD%93%E5%88%9D%E5%8E%8B%E5%88%B6%E7%BB%84%E5%85%A5%E7%BB%84%E8%80%83%E8%AF%95%E7%9A%84%E7%AD%94%E5%8D%B7/" rel="next" itemprop="url" data-background-image="https://ptpimg.me/e8k2yf.jpg" title="开源一下当初压制组入组考试的答卷"><span class="type">Next Post</span><span class="category"><i class="ic i-flag"></i>视频压制技术</span><h3>开源一下当初压制组入组考试的答卷</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#cloudflare-tunnel-%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8D-%E9%9D%A2%E5%90%91cloudflare%E7%9A%84%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA1%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%9C%89ssl%E8%AF%81%E4%B9%A6%E7%9A%84wordpress%E5%8D%9A%E5%AE%A2"><span class="toc-number">1.</span> <span class="toc-text"> cloudflare tunnel 详细介绍 —— 面向cloudflare的网站搭建,1分钟快速启动一个有ssl证书的wordpress博客</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text"> 一、前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8cloudflare-tunnel"><span class="toc-number">1.2.</span> <span class="toc-text"> 二、为什么要用cloudflare tunnel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E6%9C%89%E4%BB%80%E4%B9%88%E7%BC%BA%E7%82%B9"><span class="toc-number">1.3.</span> <span class="toc-text"> 三、有什么缺点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">1.4.</span> <span class="toc-text"> 四、实验环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-start-a-tunnel-with-cli"><span class="toc-number">1.5.</span> <span class="toc-text"> 五、Start a tunnel with cli</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%8B%E8%BD%BDcloudflared%E5%B7%A5%E5%85%B7%E8%BF%9E%E6%8E%A5%E5%88%B0%E4%BD%A0%E7%9A%84cloudflare%E8%B4%A6%E6%88%B7"><span class="toc-number">1.5.1.</span> <span class="toc-text"> 1、下载cloudflared工具，连接到你的cloudflare账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%9A%A7%E9%81%93"><span class="toc-number">1.5.2.</span> <span class="toc-text"> 2. 创建一个隧道</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%AE%A1%E7%90%86"><span class="toc-number">1.5.3.</span> <span class="toc-text"> 3. 管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%A6%82%E4%BD%95%E7%94%A8cli%E5%8E%BB%E5%81%9A%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F"><span class="toc-number">1.5.4.</span> <span class="toc-text"> 4. 如何用cli去做内网穿透</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-start-with-docker-compose"><span class="toc-number">1.6.</span> <span class="toc-text"> 六、Start with docker-compose</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%89%E8%A3%85docker-compose"><span class="toc-number">1.6.1.</span> <span class="toc-text"> 1、安装docker-compose</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E5%A4%B9%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.2.</span> <span class="toc-text"> 2、文件夹结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-docker-composeyml"><span class="toc-number">1.6.3.</span> <span class="toc-text"> 3. docker-compose.yml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%85%8D%E7%BD%AEcloudflared-configyaml"><span class="toc-number">1.6.4.</span> <span class="toc-text"> 4. 配置cloudflared config.yaml</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-docker-compose%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.5.</span> <span class="toc-text"> 5. docker-compose管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%90%AF%E5%8A%A8%E5%8D%9A%E5%AE%A2"><span class="toc-number">1.6.6.</span> <span class="toc-text"> 6. 启动博客</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#demo"><span class="toc-number">1.6.7.</span> <span class="toc-text"> DEMO</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-%E5%85%B6%E4%BB%96%E6%9C%8D%E5%8A%A1%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.7.</span> <span class="toc-text"> 七、其他服务示例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bitwarden"><span class="toc-number">1.7.1.</span> <span class="toc-text"> bitwarden</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#alist"><span class="toc-number">1.7.2.</span> <span class="toc-text"> alist</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#emby"><span class="toc-number">1.7.3.</span> <span class="toc-text"> emby</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB-%E4%BD%A0%E7%9F%A5%E9%81%93%E5%90%97"><span class="toc-number">1.8.</span> <span class="toc-text"> 八、你知道吗？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1tunnel%E4%B8%8D%E6%AD%A2%E5%8F%AF%E4%BB%A5%E7%A9%BF%E9%80%8Fhttp%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.8.1.</span> <span class="toc-text"> 1.tunnel不止可以穿透http服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%AF%E4%BB%A5%E5%9C%A8cloudflare-zero-trust%E9%9D%A2%E6%9D%BF%E7%AE%A1%E7%90%86%E4%BD%A0%E7%9A%84tunnel"><span class="toc-number">1.8.2.</span> <span class="toc-text"> 2. 可以在cloudflare zero trust面板管理你的tunnel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%94%A8%E4%B8%80%E4%B8%AA%E9%9A%A7%E9%81%93%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E8%A2%AB%E5%85%B6%E4%BB%96%E6%9C%BA%E5%99%A8%E5%90%AF%E5%8A%A8"><span class="toc-number">1.8.3.</span> <span class="toc-text"> 3. 用一个隧道可以同时被其他机器启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-tunnel%E4%B8%80%E4%B8%AA%E5%B8%90%E5%8F%B7%E6%9C%89%E5%88%9B%E5%BB%BA%E7%9A%84%E6%95%B0%E9%87%8F%E9%99%90%E5%88%B6"><span class="toc-number">1.8.4.</span> <span class="toc-text"> 4. tunnel一个帐号有创建的数量限制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-number">1.9.</span> <span class="toc-text"> 九、常见问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E6%88%91%E5%8F%AF%E4%BB%A5%E7%94%A8%E5%AE%B6%E5%AE%BD%E5%BB%BA%E7%AB%99%E5%90%97"><span class="toc-number">1.9.1.</span> <span class="toc-text"> 1.我可以用家宽建站吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9B%BD%E5%86%85%E8%83%BD%E7%94%A8%E5%90%97"><span class="toc-number">1.9.2.</span> <span class="toc-text"> 2. 国内能用吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%88%91%E8%83%BD%E8%BD%AC%E8%BD%BD%E5%90%97"><span class="toc-number">1.9.3.</span> <span class="toc-text"> 3. 我能转载吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%80%9F%E5%BA%A6%E5%92%8B%E6%A0%B7"><span class="toc-number">1.9.4.</span> <span class="toc-text"> 4. 速度咋样？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98%E6%9A%82%E6%97%B6%E6%B2%A1%E6%83%B3%E8%B5%B7%E6%9D%A5"><span class="toc-number">1.9.5.</span> <span class="toc-text"> 5. 其他问题暂时没想起来...</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81-%E7%A2%8E%E7%A2%8E%E5%BF%B5%E8%A6%81%E9%A5%AD"><span class="toc-number">1.10.</span> <span class="toc-text"> 十、碎碎念+要饭</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li><a href="/2023/04/28/basic-theory/UNIX%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%EF%BC%9A%E9%80%9A%E4%BF%A1%EF%BC%8C%E5%B9%B6%E5%8F%91%E5%92%8C%E7%BA%BF%E7%A8%8B/" rel="bookmark" title="UNIX系统编程：通信，并发和线程">UNIX系统编程：通信，并发和线程</a></li><li><a href="/2023/04/30/basic-theory/%E7%AE%97%E6%B3%95%E5%AF%BC%E8%AE%BA%E7%AC%AC%E5%9B%9B%E7%89%88%EF%BC%88%E6%8C%81%E7%BB%AD%EF%BC%89/" rel="bookmark" title="算法导论第四版（持续）">算法导论第四版（持续）</a></li><li class="active"><a href="/2023/05/16/basic-theory/%E9%9D%A2%E5%90%91cloudflare%E7%9A%84%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA-1%E5%88%86%E9%92%9F%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%9C%89ssl%E8%AF%81%E4%B9%A6%E7%9A%84wordpress%E5%8D%9A%E5%AE%A2/" rel="bookmark" title="面向cloudflare的网站搭建,1分钟快速启动一个有ssl证书的wordpress博客">面向cloudflare的网站搭建,1分钟快速启动一个有ssl证书的wordpress博客</a></li><li><a href="/2023/05/22/basic-theory/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%AC%E4%BA%8C%E7%89%88%E7%AC%94%E8%AE%B0/" rel="bookmark" title="动手学深度学习第二版笔记">动手学深度学习第二版笔记</a></li><li><a href="/2023/07/09/basic-theory/%E9%9B%85%E6%80%9D%E5%A4%87%E8%80%83%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%E5%BD%92%E7%BA%B3%E9%95%BF%E6%9C%9F%E6%9B%B4%E6%96%B0%E7%89%88/" rel="bookmark" title="雅思备考笔记整理归纳长期更新版">雅思备考笔记整理归纳长期更新版</a></li><li><a href="/2024/03/19/basic-theory/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB%E6%8C%87%E5%8D%97PMBOK%E6%8C%87%E5%8D%97%E7%AC%AC%E4%B8%83%E7%89%88%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%A0%87%E5%87%86/" rel="bookmark" title="项目管理知识体系指南PMBOK指南第七版项目管理标准(长期持续更新中)">项目管理知识体系指南PMBOK指南第七版项目管理标准(长期持续更新中)</a></li><li><a href="/2024/03/29/computer-graphic/PBRT%E7%AC%AC%E5%9B%9B%E7%89%88%E4%B8%AA%E4%BA%BA%E7%B2%BE%E6%A0%A1%E7%89%88%E7%BF%BB%E8%AF%91%EF%BC%88%E9%95%BF%E6%9C%9F%E8%AE%A1%E5%88%92%E9%A1%B9%E7%9B%AE%EF%BC%89/" rel="bookmark" title="PBRT第四版个人精校版翻译（长期计划项目）">PBRT第四版个人精校版翻译（长期计划项目）</a></li><li><a href="/2024/05/12/basic-theory/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%8E%B0%E4%BB%A3%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E5%9B%9B%E7%89%88%EF%BC%89%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="bookmark" title="人工智能现代方法（第四版）读书笔记">人工智能现代方法（第四版）读书笔记</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="AUVeggry" src="/assets/avatar.avif"><p class="name" itemprop="name">AUVeggry</p><div class="description" itemprop="description">The spirit of independence and the freedom of thought </div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">65</span><span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">6</span><span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">22</span><span class="name">tags</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/auveggry" class="item github" title="https://github.com/auveggry"><i class="ic i-github"></i></a><a href="mailto:mail@sakurame.eu.org" class="item email" title="mailto:mail@sakurame.eu.org"><i class="ic i-envelope"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-user"></i>About</a><ul class="submenu"><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>About This Site</a></li><li class="item"><a href="/admiration/" rel="section"><i class="ic i-coffee"></i>Appreciation</a></li><li class="item"><a href="/privacy/" rel="section"><i class="ic i-user"></i>Privacy Policy</a></li></ul></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-sakura"></i>Friends</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2023/05/17/vcbstudio/%E5%BC%80%E6%BA%90%E4%B8%80%E4%B8%8B%E5%BD%93%E5%88%9D%E5%8E%8B%E5%88%B6%E7%BB%84%E5%85%A5%E7%BB%84%E8%80%83%E8%AF%95%E7%9A%84%E7%AD%94%E5%8D%B7/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/05/13/computer-graphic/3D-Graphics-Rendering-Cookbook/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div><div id="player"></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/vcbstudio/" title="In视频压制技术">视频压制技术</a></div><span><a href="/2024/03/16/vcbstudio/%E7%AC%AC%E4%B9%9D%E7%AB%A0%E5%88%9D%E7%BA%A7%E8%A7%86%E9%A2%91%E7%91%95%E7%96%B5%E4%BF%AE%E5%A4%8D/">第九章初级视频瑕疵修复</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/game-engine/" title="In游戏引擎实践">游戏引擎实践</a></div><span><a href="/2023/06/28/game-engine/games104%E7%B3%BB%E5%88%97%E7%AC%94%E8%AE%B0%EF%BC%88%E5%8D%81%E4%BA%94%EF%BC%89/">games104系列笔记（十五）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/game-engine/" title="In游戏引擎实践">游戏引擎实践</a></div><span><a href="/2023/06/25/game-engine/games104%E7%B3%BB%E5%88%97%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/">games104系列笔记（一）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/thinking/" title="In思考随笔记录">思考随笔记录</a></div><span><a href="/2022/05/28/thinking/%E4%B8%89%E5%B9%B4%E4%B9%8B%E9%9A%8F%E7%AC%94/">三年之随笔</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/vcbstudio/" title="In视频压制技术">视频压制技术</a></div><span><a href="/2024/03/16/vcbstudio/%E7%AC%AC%E4%B8%83%E7%AB%A0%E8%A7%86%E9%A2%91%E7%BC%96%E7%A0%81%E5%99%A8%E5%9F%BA%E7%A1%80/">第七章视频编码器基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/thinking/" title="In思考随笔记录">思考随笔记录</a></div><span><a href="/2022/05/01/thinking/%E4%B8%80%E7%A7%8D%E5%B9%B3%E5%B8%B8%E7%9A%84%E7%94%9F%E6%B4%BB%E6%80%81%E5%BA%A6/">一种平常的生活态度</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/basic-theory/" title="In计算机基础理论">计算机基础理论</a></div><span><a href="/2023/04/28/basic-theory/UNIX%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%EF%BC%9A%E9%80%9A%E4%BF%A1%EF%BC%8C%E5%B9%B6%E5%8F%91%E5%92%8C%E7%BA%BF%E7%A8%8B/">UNIX系统编程：通信，并发和线程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/game-engine/" title="In游戏引擎实践">游戏引擎实践</a></div><span><a href="/2023/06/25/game-engine/games104%E7%B3%BB%E5%88%97%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/">games104系列笔记（二）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/privacy/" title="In隐私保护指北">隐私保护指北</a></div><span><a href="/2023/05/25/privacy/%E9%9A%90%E7%A7%81%E4%BF%9D%E6%8A%A4%E6%8C%87%E5%8D%97%EF%BC%88%E9%95%BF%E6%9C%9F%E7%BF%BB%E8%AF%91%E9%A1%B9%E7%9B%AE%EF%BC%89/">隐私保护指南（长期翻译项目）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/game-engine/" title="In游戏引擎实践">游戏引擎实践</a></div><span><a href="/2023/06/26/game-engine/games104%E7%B3%BB%E5%88%97%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AD%EF%BC%89/">games104系列笔记（六）</a></span></li></ul></div><div class="rpost pjax"><h2>Recent Comments</h2><ul class="leancloud-recent-comment" id="new-comment"></ul></div></div><div class="status"><div class="copyright">© 2023 -<span itemprop="copyrightYear">2025</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">AUVeggry @ Sakura's Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="Symbols count total">1.2m words</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="Reading time total">17:47</span></div><div class="powered-by">Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> &amp; Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div><br><span style="display:inline;height:20px;line-height:20px;margin: 0px 0px 0px 5px; color:var(--grey-5);"><a target="_blank" rel="noopener" href="https://icp.gov.moe/?keyword=20233555">萌ICP备20233555号</a></span></div></div></footer></div><script data-config="" type="text/javascript">var LOCAL = {
    ispost: true,
    path: `2023/05/16/basic-theory/面向cloudflare的网站搭建-1分钟快速启动一个有ssl证书的wordpress博客/`,
    favicon: {
        show: `(●´3｀●) Here we go again.`,
        hide: `(´Д｀) It's a disaster!`
    },
    search: {
        placeholder: "Search for Posts",
        empty: "We didn't find any results for the search: ${query}",
        stats: "${hits} results found in ${time} ms"
    },
    nocopy: "false",
    copyright: `Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.`,
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">Article Timeliness Alert</span><br>This is an article published {{publish}} days ago and last updated {{updated}} days ago. Some information may have changed, so please be careful to screen it.</p></div>`,
    quiz: {
        choice: `Multiple Choice`,
        multiple: `Multiple Answer`,
        true_false: `True/False`,
        essay: `Questions`,
        gap_fill: `Gap Filling`,
        mistake: `Wrong Answer`
    }
};
</script><script src="/js/siteInit.js?v=0.5.4" type="module" fetchpriority="high" defer=""></script></body></html>